function process_backup_transfer(e){var i=dist_tasks_options.registeredChannels[dist_tasks_options.channel],n=new Date;void 0===i&&(jQuery("#filetrip-transfer-cards").append("<h2>  This backup archive doesn't has any forwarding channels selected</h2>"),jQuery("#filetrip-transfer-cards").append("<p> Backup ("+n.toDateString()+")</p>"));var t={channel_name:i.channel_name,mime:"application/zip",channel_key:i.channel_key,active:i.active,descriptive_progress:dist_tasks_options.file_size_friendly,default_dest:i.destination?i.destination:"",channel_icon:i.channel_icon,card_id:i.channel_key};jQuery(e(t)).appendTo("#filetrip-transfer-cards").show("slow"),i.channel_action_url=i.channel_action_url+"_backup",mediaEmulator={id:"",file_size_friendly:dist_tasks_options.file_size_friendly};var a=new FiletripBackendUploader(dist_tasks_options,i,mediaEmulator),s=a.sendFile();s.then(function(e){console.log("Async code terminated successfully.")})["catch"](function(e){console.log("Handle rejected promise ("+e+") here.")})}function process_media_library(e){for(var i in dist_tasks_options.mediaList){var n=dist_tasks_options.mediaList[i],t=dist_tasks_options.registeredChannels[n.forwarders.single_channel],a={channel_name:t.channel_name,channel_key:t.channel_key,file_name:n.title,mime:n.mime,active:t.active,descriptive_progress:n.file_size_friendly,default_dest:t.destination?t.destination:"",channel_icon:t.channel_icon,card_id:t.channel_key+n.id};jQuery(e(a)).appendTo("#filetrip-transfer-cards").show("slow");var s=new FiletripBackendUploader(dist_tasks_options,t,n),r=s.sendFile();r.then(function(e){console.log("Async code terminated successfully.")})["catch"](function(e){console.log("Handle rejected promise ("+e+") here.")})}}function process_media_forwarders(e){for(var i in dist_tasks_options.mediaList){var n=dist_tasks_options.mediaList[i];n.forwarders.length<=0&&(jQuery("#filetrip-transfer-cards").append("<h2> ["+n.id+"]: This upload doesn't has any forwarding channels selected</h2>"),jQuery("#filetrip-transfer-cards").append("<p>"+n.title+"</p>"));for(var t in n.forwarders){var a=n.forwarders[t],s={channel_name:a.channel_name,file_name:n.title,channel_key:a.channel_key,mime:n.mime,active:a.active,descriptive_progress:n.file_size_friendly,default_dest:a.destination?a.destination:"",channel_icon:a.channel_icon,card_id:a.channel_key+n.id};jQuery(e(s)).appendTo("#filetrip-transfer-cards").show("slow");var r=new FiletripBackendUploader(dist_tasks_options,a,n),o=r.sendFile();o.then(function(e){console.log("Async code terminated successfully.")})["catch"](function(e){console.log("Handle rejected promise ("+e+") here.")})}}}function prepare_help_tip(e){if(e.fn.pointer){var i=[];e(".help_tip").on("click",function(n){n.preventDefault();var t=e(this).attr("data-title")||"&nbsp;",a="<h3>"+t+"</h3><p>"+e(this).attr("data-tip")+"<p>";if(e(".wp-pointer").is(":visible")){var s=e(".wp-pointer:visible").attr("id").replace("wp-pointer-","");s=parseInt(s),"object"==typeof i[s]&&e(i[s]).pointer("toggle")}e(this).pointer({content:a,position:"bottom",show:function(e,n){var t=n.pointer[0].id,a=t.replace("wp-pointer-","");a=parseInt(a),i[a]=this,n.pointer[0].className=n.pointer[0].className.replace(/\s+(wp-pointer-[^\s'"])/,"$1"),n.pointer.show(),n.opened()}}).pointer("open").pointer("repoint")})}}function bytesToSize(e){var i=["Bytes","KB","MB","GB","TB"];if(0==e)return"0 Bytes";var n=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,n),2)+" "+i[n]}function FiletripFilter(e){return"all"==e?void jQuery(".filetrip-transfer-item").css("display",""):(jQuery(".filetrip-transfer-item").hide(),void jQuery("."+e).css("display",""))}jQuery.noConflict(),jQuery(document).ready(function(e){prepare_help_tip(jQuery);var i=wp.template("upload-card-single");console.log(dist_tasks_options),"upload-forwarder"==dist_tasks_options.source?process_media_forwarders(i):"media-library"==dist_tasks_options.source?process_media_library(i):"filetrip-backup"==dist_tasks_options.source&&process_backup_transfer(i)}),function(){jQuery(function(){return jQuery("[data-toggle]").on("click",function(){var e;return e=jQuery(this).addClass("active").attr("data-toggle"),jQuery(this).siblings("[data-toggle]").removeClass("active"),jQuery(".surveys").removeClass("grid list").addClass(e)})})}.call(this);