!function(e){e.fn.arfaly=function(a){function i(a,i){e("#arfaly-info-box-"+a).find(".arfaly-info-internal-content").html(i)}function t(a){g.config.debug&&(e(g.config.targetOutput).is(":visible")?e(".output-list-"+u.attr("id")).append("<li>"+a+"</li>"):(e(g.config.targetOutput).html('<br><ol class="output-list-'+u.attr("id")+'"><li>'+a+"</li></ol>"),e(g.config.targetOutput).delay(300).slideDown()))}function s(a){a.stopPropagation(),a.preventDefault(),u.find("#arfaly-filedrag-"+u.attr("id")).removeClass("hover").addClass("");var i=a.target.files||a.originalEvent.dataTransfer.files;e("input[id="+u.attr("id")+"-arfaly-files]").removeAttr("required"),g.config.chunkUpload?r(i):l(i)}function l(a){var s=a;for(j=0;j<s.length;j++){if(p>=g.config.limitNumberofFiles)return t("You have exceed upload limit ("+p+") !"),!1;if(0!=s[j].length){var l=new FormData;l.append("SelectedFile",s[j]),l.append("action",g.config.action),l.append("closify-id",u.attr("closify-id")),l.append("closify-idx",u.attr("closify-idx")),l.append("fileIndx",p),l.append("nonce",g.config.nonce),g.addFileItem(s[j].name,p);var n=g.beforeSubmit(s[j],p);if(null==f?e("#uploadItem-"+u.attr("id")+"-"+p).find("#mimePicture").addClass("arfaly-icon-file"):e("#uploadItem-"+u.attr("id")+"-"+p).find("#mimePicture").addClass(f),1==n.status){var r=new XMLHttpRequest;g.config.request[p]=r,g.config.request[p].index=p,g.config.request[p].cachedData=l,g.config.request[p].onreadystatechange=function(){if(4==this.readyState){e("#uploadItem-"+u.attr("id")+"-"+this.index).find(".arfaly-loading").css("display","block"),e("#uploadItem-"+u.attr("id")+"-"+this.index).find(".arfaly-ready").hide();try{var a=JSON.parse(this.response);"true"==a.status?(a.attid&&u.find("#file-"+this.index+"-"+u.attr("id")).val(a.attid),g.tagItemSuccess(this.index,!0,a.data),null!=a.newFileName&&e("#"+this.index+"-fileName").text(a.newFileName),null!=a.fullPath&&e("#preview-"+u.attr("id")+"-"+this.index).attr("link",a.fullPath),1==g.config.disablePostProgressAnimation&&(1==g.config.disablePostProgressAnimation&&u.find("#progress-style-"+u.attr("id")+"-"+this.index).addClass("arfaly-nostripes"),u.find("#progress-style-"+u.attr("id")+"-"+this.index).addClass("arfaly-nostripes")),g.config.successfulUpload(a)):(g.tagItemSuccess(this.index,!1,a.error),g.config.failedUpload(a),i(this.index,a.error))}catch(t){a={status:"error",msg:"Response string format is not a valid JSON: ["+this.responseText+"]"},g.tagItemSuccess(this.index,!1,a.msg)}}},g.config.request[p].upload.index=p,g.config.request[p].upload.addEventListener("progress",function(a){var i=a.loaded/a.total*100,t=this.index;e("#massUploadProgress-"+u.attr("id")+"-"+this.index).css("width",i+"%"),i>=100&&!g.config.disableRemovingItems&&setTimeout(function(){g.deleteItem(t)},g.config.delay)},!1),g.config.enforceInfo||(g.config.request[p].open(g.config.type,g.config.url),g.config.request[p].send(l)),p++}else g.tagItemSuccess(p,!1,n.responseText),p++}}return 0}function n(e){var a=g.bytesToSizeClass(e),i=g.config.maxUploadSize,t=Math.ceil(a.size/100);return"bytes"==a.type?i=a.size/2:"KB"==a.type?(i=a.size/5,i=1024*i):"MB"==a.type&&a.size<60?(i=a.size/5/t,i=1024*i*1024):"GB"==a.type?i=g.config.maxUploadSize:"TB"==a.type&&(i=g.config.maxUploadSize),Math.ceil(i)}function r(a){var s=a;for(j=0;j<s.length;j++){if(p>=g.config.limitNumberofFiles)return t("You have exceed upload limit ("+p+") !"),!1;if(0!=s[j].length){g.addFileItem(s[j].name,p);var l=g.beforeSubmit(s[j],p);if(null==f?e("#uploadItem-"+u.attr("id")+"-"+p).find("#mimePicture").addClass("arfaly-icon-file"):e("#uploadItem-"+u.attr("id")+"-"+p).find("#mimePicture").addClass(f),1==l.status){var r=new XMLHttpRequest;g.config.request[p]=r,chunkSize=n(s[j].size),g.config.request[p]=r,g.config.request[p].file=s[j],g.config.request[p].file_size=s[j].size,g.config.request[p].chunk_size=chunkSize,g.config.request[p].range_start=0,g.config.request[p].range_end=g.config.request[p].chunk_size,g.config.request[p].is_paused=!1,g.config.request[p].chunks=Math.ceil(s[j].size/chunkSize),g.config.request[p].counter=1,"mozSlice"in s[j]?g.config.request[p].slice_method="mozSlice":"webkitSlice"in s[j]?g.config.request[p].slice_method="webkitSlice":g.config.request[p].slice_method="slice",g.config.request[p].index=p,g.config.request[p].onreadystatechange=function(){if(4==this.readyState){e("#uploadItem-"+u.attr("id")+"-"+this.index).find(".arfaly-loading").css("display","block"),e("#uploadItem-"+u.attr("id")+"-"+this.index).find(".arfaly-ready").hide();try{var a=this.counter/this.chunks*100,t=this.index;a>100&&(a=100),a<30?e("#massUploadProgress-"+u.attr("id")+"-"+this.index).animate({width:a+"%"},200):a<90?e("#massUploadProgress-"+u.attr("id")+"-"+this.index).animate({width:a+"%"},1e3):a<100?e("#massUploadProgress-"+u.attr("id")+"-"+this.index).animate({width:"95%"},3e3):e("#massUploadProgress-"+u.attr("id")+"-"+this.index).animate({width:"100%"},30),a>=100&&!g.config.disableRemovingItems&&setTimeout(function(e){g.deleteItem(t)},g.config.delay);var s=JSON.parse(this.response);if(this.range_end!==this.file_size&&"true"==s.status&&(this.range_start=this.range_end,this.range_end=this.range_start+this.chunk_size,!this.is_paused))return void d(this,"","");"true"!=s.status&&u.find("#progress-style-"+u.attr("id")+"-"+this.index).addClass("droply-nostripes"),this.range_end===this.file_size||"true"!=s.status?"true"==s.status?(s.attid&&u.find("#file-"+this.index+"-"+u.attr("id")).val(s.attid),g.tagItemSuccess(this.index,!0,s.data),null!=s.newFileName&&e("#"+this.index+"-fileName").text(s.newFileName),null!=s.fullPath&&e("#preview-"+u.attr("id")+"-"+this.index).attr("link",s.fullPath),1==g.config.disablePostProgressAnimation&&(1==g.config.disablePostProgressAnimation&&u.find("#progress-style-"+u.attr("id")+"-"+this.index).addClass("arfaly-nostripes"),u.find("#progress-style-"+u.attr("id")+"-"+this.index).addClass("arfaly-nostripes")),"true"==g.config.enforceInfo&&u.find("#upload-button-"+this.index+"-"+u.attr("id")).remove(),g.config.successfulUpload(s)):(g.tagItemSuccess(this.index,!1,s.error),g.config.failedUpload(s),i(this.index,s.error)):"false"==s.status&&(g.tagItemSuccess(this.index,!1,s.error),g.config.failedUpload(s),i(this.index,s.error))}catch(l){s={status:"error",msg:"Response string format is not a valid JSON: ["+this.responseText+"]"},g.tagItemSuccess(this.index,!1,s.msg)}}},g.config.request[p].upload.index=p,g.config.enforceInfo||(e("#massUploadProgress-"+u.attr("id")+"-"+p).animate({width:"1%"},2e3),d(g.config.request[p],"","")),p++}else g.tagItemSuccess(p,!1,l.responseText),p++}}return 0}function o(a,i,t){1==g.config.devDebug&&console.log("Request["+a+"] has started"),g.config.chunkUpload?(e("#massUploadProgress-"+u.attr("id")+"-"+a).animate({width:"10%"},2e3),d(g.config.request[a],i,t)):(g.config.request[a].open(g.config.type,g.config.url),g.config.request[a].send(g.config.request[a].cachedData),g.config.request[a]="invalid")}function d(e,a,i){var t=e;t.timerLoop=setTimeout(function(){"true"!=g.config.enforceInfo?c(t,"",""):c(t,a,i)},20)}function c(a,i,t){a.range_end>a.file_size&&(a.range_end=a.file_size);var s=a.file[a.slice_method](a.range_start,a.range_end),l=new FormData;if(l.append("action",g.config.action),l.append("closify-id",u.attr("closify-id")),l.append("closify-idx",u.attr("closify-idx")),l.append("fileIndx",a.index),l.append("nonce",g.config.nonce),l.append("file-name",a.index+"_"+a.file.name),l.append("file-type",a.file.type),l.append("file-size",a.file.size),l.append("chunk-upload","true"),l.append("chunk",a.counter),l.append("chunks",a.chunks),l.append("file",s),"true"==g.config.enforceInfo){var n=e("#uploadItem-"+u.attr("id")+"-"+a.index).find('input[name="arfaly-title"]'),r=e("#uploadItem-"+u.attr("id")+"-"+a.index).find('textarea[name="arfaly-desc"]'),i=n.val(),t=r.val();l.append("title",i),l.append("desc",t)}a.open(g.config.type,g.config.url,!0),a.overrideMimeType("application/octet-stream"),0!==a.range_start&&a.setRequestHeader("Content-Range","bytes "+a.range_start+"-"+a.range_end+"/"+a.file_size),a.send(l),a.counter++}var f,u=this,p=0,g={init:function(){g.config=e.extend({allowedFileSize:10485760,delay:5e3,multi:!0,request:[],url:"processMultipleUploads.php",dataType:"json",limitNumberofFiles:10,required:"false",formRequired:"false",enforceInfo:!1,enterTitleLbl:"Enter Upload Title",enterDescLbl:"Enter Upload Description",enterEmailLbl:"Enter your email",enterName:"Enter your name",label:"Allowed file types are gif, jpg, and png.",dropBox:{title:"Drop files here",height:100,fontSize:26},stableUploadLbl:"Everything going well so far!",uploadBtnLbl:"Upload",previewBtnLbl:"Preview",deleteBtnLbl:"Delete",deleteConfirmLbl:"Are you sure you want to delete the file?",backgroundIcon:"",chunkSize:5242880,maxUploadSize:8388608,chunkUpload:!0,debug:!1,dragDrop:!0,circularDropbox:!1,theme:"simplex",targetOutput:".output",type:"post",devDebug:!1,nonce:"",disablePreview:!1,disablePostProgressAnimation:!0,disableRemovingItems:!0,backgroundColor:"",logoColor:"rgb(150, 155, 255)",textColor:"#DADADA",borderColor:"#DADADA",labelColor:"rgb(90, 90, 90)",progressBarColor:"orange",action:"itech_arfalygold_submission",beforeSubmit:g.beforeSubmit,successfulUpload:g.successfulUpload,failedUpload:g.failedUpload,fileDeleted:g.fileDeleted},a),g.Setup(),e(g.config.targetOutput).hide()},Setup:function(){var e="",a="",i="",t="",s="",l="",n="";""!=g.config.backgroundIcon?(s="; background-image: url("+g.config.backgroundIcon+"); background-size: auto; background-position: 50% 20%; background-repeat: no-repeat;",n=";padding-top:"+g.config.dropBox.height+"px;"):l='<span id="arfaly-dropbox-icon-'+u.attr("id")+'" class="arfaly-showcase arfaly-icon arfaly-icon-cloud-storage" style="color:'+g.config.logoColor+'"></span>',g.config.multi&&(e="multiple"),"false"!=g.config.dragDrop&&(a="opacity:0;pointer-events: none;"),"true"==g.config.circularDropbox&&(i="arfaly-circular-dropbox"),"true"==g.config.formRequired&&(t="required");var r="",o='<p class="arfaly-label" style="color:'+g.config.labelColor+'">'+g.config.label+"</p>",d='<input class="arfaly-multi-file-input" type="file" style="'+a+'" name="files[]" id="'+u.attr("id")+'-arfaly-files" '+e+" "+t+">",c='<div><div id="arfaly-filedrag-'+u.attr("id")+'" class="arfaly-filedrag '+i+'" style="color: '+g.config.textColor+";border: 5px dashed "+g.config.borderColor+";"+s+'">'+l+'<br/><div style="'+n+";font-size:"+g.config.dropBox.fontSize+'px" class="arfaly-box-label" id="box-label-'+u.attr("id")+'" >'+g.config.dropBox.title+"</div>"+d+"</div><br/>"+o+"</div>",f='<div id="'+u.attr("id")+'-ListItem" class="arfaly-multi-images"></div>';u.addClass("arfaly-multiple-upload"),"false"!=g.config.dragDrop?u.html(r+c+f):u.html(r+d+f)},bytesToSize:function(e){var a=["Bytes","KB","MB","GB","TB"];if(0==e)return"0 Bytes";var i=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,i),2)+" "+a[i]},bytesToSizeClass:function(e){var a=["Bytes","KB","MB","GB","TB"];if(0==e)return"0 Bytes";var i=parseInt(Math.floor(Math.log(e)/Math.log(1024))),t={size:Math.round(e/Math.pow(1024,i),2),type:a[i]};return t},successfulUpload:function(e){},failedUpload:function(e){},fileDeleted:function(a){a.fileIdx;e.ajax({url:g.config.url,type:"POST",data:a,success:function(e){t(e)}})},beforeSubmit:function(e,a){var i=[],t=navigator.userAgent.indexOf("Chrome")>-1,s=navigator.userAgent.indexOf("Safari")>-1;if(t&&s&&(s=!1),window.File&&window.FileReader&&window.FileList&&window.Blob){var l=e.size,n=e.type;switch(n){case"application/octet-stream":case"application/postscript":case"image/png":case"image/gif":case"image/jpeg":case"image/pjpeg":case"image/x-png":case"image/jpg":case"image/x-windows-bmp":case"image/bmp":case"image/tiff":case"image/x-tiff":case"image/svg+xml":f="arfaly-icon-photo";break;case"audio/aac":case"audio/mp4":case"audio/mp3":case"audio/ogg":case"audio/wav":case"audio/webm":f="arfaly-icon-music";break;case"video/mp4":case"video/ogg":case"video/mov":case"video/webm":case"video/avi":case"video/mkv":case"video/x-matroska":f="arfaly-icon-video2";break;case"application/x-zip-compressed":case"application/zip":case"application/x-rar-compressed":f="arfaly-icon-wallet";break;default:f="arfaly-icon-file"}return l>g.config.allowedFileSize?(i.status=!1,i.responseText=g.bytesToSize(l)+": The file size has exceeded the limit ("+g.config.allowedFileSize/1024/1024+"MB) !",i):(i.status=!0,i)}return i.status=!1,i.responseText="Please upgrade your browser, because your current browser lacks some new features we need!",i},deleteItem:function(a){var i={"arfaly-id":u.attr("id"),command:"delete",arfalyfn:window.btoa(u.find("#"+a+"-fileName").text()),fileIndx:a,action:g.config.action,nonce:g.config.nonce,raqmkh:window.btoa(u.find("#file-"+a+"-"+u.attr("id")).val())};g.config.fileDeleted(i),e("#uploadItem-"+u.attr("id")+"-"+a).addClass("arfaly-animated bounceOutRight"),setTimeout(function(i){e("#uploadItem-"+u.attr("id")+"-"+a).remove()},600)},addFileItem:function(a,i){var t="",s="",l="";g.config.disablePreview||(s='<a rel="external" link="" id="preview-'+u.attr("id")+"-"+i+'" index="'+i+'" class="arfaly-preview"><span class="arfaly-icon arfaly-icon-earth" title="'+g.config.previewBtnLbl+'"></span></a>',l='<a class="arfaly-button arfaly-preview" index="'+i+'" >'+g.config.previewBtnLbl+"</a>"),"true"==g.config.required&&(t="required");var n='<input type="hidden" id="file-'+i+"-"+u.attr("id")+'" name="image-id[]" value="" />',r='<div id="arfaly-info-box-'+i+'" class="arfaly-info-box noselect"><div class="arfaly-info-p"><a class="arfaly-close" index="'+i+'"><span class="arfaly-info-close arfaly-icon arfaly-icon-delete"></span></a><div class="arfaly-info-internal-content">'+g.config.stableUploadLbl+'</div></div><div class="arfaly-pointer"></div></div>',d='<div class="clearfix arfaly-form-container"><input class="arfaly-input" type="text" name="arfaly-title" placeholder="'+g.config.enterTitleLbl+'" '+t+'/><br><textarea rows="2" class="arfaly-input" type="textarea" name="arfaly-desc" placeholder="'+g.config.enterDescLbl+'" '+t+'/><a class="arfaly-button arfaly-upload noselect" id="upload-button-'+i+"-"+u.attr("id")+'" index="'+i+'">'+g.config.uploadBtnLbl+'</a><a class="arfaly-button arfaly-delete noselect" id="'+i+'">'+g.config.deleteBtnLbl+"</a>"+l+"</div>";g.config.enforceInfo||(d="");var c='<a class="info-icon" index="'+i+'"><span class="arfaly-info-icon arfaly-icon arfaly-icon-info" ></span></a>',f='<a class="info-icon" index="'+i+'" title="Information Button"><span class="arfaly-icon arfaly-icon-info-large"></span></a>',p='<div id="uploadItem-'+u.attr("id")+"-"+i+'" class="arfaly-default-theme"><div class="arfaly-oval"><span class="arfaly-ready arfaly-icon arfaly-icon-plus" style="margin-top:35px;"></span><span class="arfaly-loading arfaly-icon arfaly-icon-spinner"></span><div id="mass-item-success-'+u.attr("id")+"-"+i+'" class="notification-oval"><ul class="arfaly-oval-list-info" id="mass-item-oval-info-'+u.attr("id")+"-"+i+'"><li class="arfaly-tick-text"  id="mass-item-success-text-'+u.attr("id")+"-"+i+'" style=";color:white;font-family:cursive;font-size:10px;color:white;list-style:none"></li></li></ul></div></div><div class="arfaly-list-div noselect" style="background-color:'+g.config.backgroundColor+'" >'+n+'<div><div class="arfaly-list-icon arfaly-left"><span id="mimePicture" class="arfaly-icon" style="font-size:40px"></span></div><div class="progress-container arfaly-right"><div id="progress-style-'+u.attr("id")+"-"+i+'" class="arfaly-meter '+g.config.progressBarColor+' arfaly-right"><span id="massUploadProgress-'+u.attr("id")+"-"+i+'" style="width: 0%;" class="arfaly-span-progress"></span></div><div id="'+i+'-fileName" class="arfaly-filename">'+a+'</div><div class="arfaly-list-menu arfaly-right"><ul><li><a class="arfaly-delete" id="'+i+'"><span class="arfaly-icon arfaly-icon-remove" title="'+g.config.deleteBtnLbl+'"></span></a>&nbsp;'+s+"</li></ul></div></div>"+c+"</div></div>"+d+"</div>",y='<div id="uploadItem-'+u.attr("id")+"-"+i+'" class="theme-1"><div class="arfaly-list-div noselect" style="background-color:'+g.config.backgroundColor+'">'+n+'<div><div class="progress-container arfaly-left"><div id="progress-style-'+u.attr("id")+"-"+i+'" class="arfaly-meter '+g.config.progressBarColor+' arfaly-left"><span id="massUploadProgress-'+u.attr("id")+"-"+i+'" style="width: 0%;" class="arfaly-span-progress"></span></div><div id="'+i+'-fileName" class="arfaly-filename">'+a+'</div></div><div class="arfaly-list-menu arfaly-right"><ul><li><a class="arfaly-delete" id="'+i+'"><span class="arfaly-icon arfaly-icon-remove" title="'+g.config.deleteBtnLbl+'"></span></a>&nbsp;'+s+"&nbsp;"+f+'<div class="arfaly-oval"><span class="arfaly-ready arfaly-icon arfaly-icon-plus"></span><span class="arfaly-loading arfaly-icon arfaly-icon-spinner" style="display: none;"></span><div id="mass-item-success-'+u.attr("id")+"-"+i+'" class="notification-oval" style="margin-top: 1px"><ul class="arfaly-oval-list-info" id="mass-item-oval-info-'+u.attr("id")+"-"+i+'"></ul></div></div></li></ul></div><div class="arfaly-list-icon arfaly-right"><span id="mimePicture" class="arfaly-icon" style="font-size:40px"></span></div></div></div>'+d+"</div>",m='<div id="uploadItem-'+u.attr("id")+"-"+i+'" class="theme-2"><div class="arfaly-list-div noselect" style="background-color:'+g.config.backgroundColor+'">'+n+'<div><div class="progress-container arfaly-left"><div id="progress-style-'+u.attr("id")+"-"+i+'" class="arfaly-meter '+g.config.progressBarColor+' arfaly-right"><span id="massUploadProgress-'+u.attr("id")+"-"+i+'" style="width: 0%;" class="arfaly-span-progress"></span></div><div id="'+i+'-fileName" class="arfaly-filename">'+a+'</div></div><div class="arfaly-list-menu arfaly-right"><ul><li><a class="arfaly-delete" id="'+i+'"><span class="arfaly-icon arfaly-icon-remove" title="'+g.config.deleteBtnLbl+'"></span></a>&nbsp;'+s+'<a class="info-icon" index="'+i+'" title="Information Button"><span class="arfaly-icon arfaly-icon-info-large"></span></a><div class="arfaly-oval"><span class="arfaly-ready arfaly-icon arfaly-icon-plus"></span><span class="arfaly-loading arfaly-icon arfaly-icon-spinner" style="display: none;"></span><div id="mass-item-success-'+u.attr("id")+"-"+i+'" class="notification-oval"><ul class="arfaly-oval-list-info" id="mass-item-oval-info-'+u.attr("id")+"-"+i+'"></ul></div></div></li></ul></div></div></div>'+d+"</div>",v=y;switch(g.config.theme){case"default":v=p;break;case"simplex":v=y;break;case"super-simplex":v=m;break;default:v=y}e("#"+u.attr("id")+"-ListItem").prepend(v),jQuery("body").prepend(r),g.config.enforceInfo||(e("#uploadItem-"+u.attr("id")+"-"+i).find(".arfaly-loading").css("display","block"),e("#uploadItem-"+u.attr("id")+"-"+i).find(".arfaly-ready").hide());var h=e("#uploadItem-"+u.attr("id")+"-"+i).find(".arfaly-oval").height()-e("#mass-item-success-"+u.attr("id")+"-"+i).height();e("#mass-item-success-"+u.attr("id")+"-"+i).css("margin-top",h/2+"px"),e("#uploadItem-"+u.attr("id")+"-"+i).find("a.arfaly-delete").click(function(){var a=confirm(g.config.deleteConfirmLbl);if(a){var i=e(this).attr("id");g.deleteItem(i)}});var b,x;"default"==g.config.theme?(x=-35,b=25):(x=25,b=-100),e("#uploadItem-"+u.attr("id")+"-"+i).find("a.info-icon").click(function(a){e("#arfaly-info-box-"+i).css("top",a.pageY+x),e("#arfaly-info-box-"+i).css("left",a.pageX+b),e("#arfaly-info-box-"+i).slideDown()}),e("#arfaly-info-box-"+i).find("a.arfaly-close").click(function(a){var i=e(this).attr("index");e("#arfaly-info-box-"+i).slideUp()}),e(document).mouseup(function(a){var i=e(".arfaly-info-box");i.is(a.target)||0!==i.has(a.target).length||i.hide()}),e("#uploadItem-"+u.attr("id")+"-"+i).find("a.arfaly-preview").click(function(){var a=e(this).attr("index");""!=e("#preview-"+u.attr("id")+"-"+a).attr("link")&&window.open(e("#preview-"+u.attr("id")+"-"+a).attr("link"),"_blank")}),g.config.enforceInfo&&e("#uploadItem-"+u.attr("id")+"-"+i).find("a.arfaly-upload").click(function(){1==g.config.devDebug&&(console.log("Upload["+a+"] initiated by upload click"),console.log(g.config.request));var a=e(this).attr("index"),i=e("#uploadItem-"+u.attr("id")+"-"+a).find('input[name="arfaly-title"]'),t=e("#uploadItem-"+u.attr("id")+"-"+a).find('textarea[name="arfaly-desc"]'),s=i.val(),l=t.val();return"undefined"==typeof s||""==s&&"true"==g.config.required?(e(i).focus(),!1):"undefined"==typeof l||""==l&&"true"==g.config.required?(e(t).focus(),!1):void(null!=g.config.request[a]?(1==g.config.devDebug&&console.log("Upload["+a+"] started"),o(a,s,l)):1==g.config.devDebug&&console.log("arfaly.config.request["+a+"] already uploaded"))}),e("div.arfaly-list-div").click(function(e){e.preventDefault()})},tagItemSuccess:function(a,s,l){e("#uploadItem-"+u.attr("id")+"-"+a).find(".arfaly-loading").hide(),1==g.config.devDebug&&console.log("Success tag = ["+s+"]"),s||e("#uploadItem-"+u.attr("id")+"-"+a).find(".arfaly-ready").hide();var n;s?(e("#uploadItem-"+u.attr("id")+"-"+a).find(".arfaly-preview").fadeIn(),e("#uploadItem-"+u.attr("id")+"-"+a).find(".arfaly-delete").fadeIn(),n='<li class="arfaly-icon arfaly-icon-tick center-icon" style="font-size:18px;color:white"></li>'):(n='<li class="arfaly-icon arfaly-icon-times center-icon" style="font-size:18px;color:white"></li>',i(a,l)),"true"!=e("#mass-item-success-"+u.attr("id")+"-"+a).attr("updated")&&(e("#mass-item-oval-info-"+u.attr("id")+"-"+a).prepend(n),e("#mass-item-success-"+u.attr("id")+"-"+a).attr("title",l),e("#uploadItem-"+u.attr("id")+"-"+a).attr("title",l),e("#mass-item-success-"+u.attr("id")+"-"+a).addClass("arfaly-animated "+(s?"flipNotificationSuccess":"flipNotificationError")),e("#mass-item-success-text-"+u.attr("id")+"-"+a).html(s?"Succeed":"Failed"),e("#mass-item-success-"+u.attr("id")+"-"+a).attr("updated","true"),t(l))},fileDragHover:function(e){e.stopPropagation(),e.preventDefault(),u.find("#arfaly-filedrag-"+u.attr("id")).removeClass("hover").addClass("dragover"==e.type?"hover":"")}};g.init();var y=u.find("#arfaly-filedrag-"+u.attr("id"));y.on("dragover",g.fileDragHover),y.on("dragleave",g.fileDragHover),y.on("drop",s),y.css("display","block"),y.click(function(a){var i=a.target.id;i!="arfaly-dropbox-icon-"+u.attr("id")&&i!="arfaly-filedrag-"+u.attr("id")||e("input[id="+u.attr("id")+"-arfaly-files]").click()}),this.find("input[type=file]").change(function(){g.config.chunkUpload?r(this.files):l(this.files)})}}(jQuery);